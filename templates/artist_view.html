<!DOCTYPE html>
<html>
<head>
    <title>{{ artist['artist_name'] }} - ì•„í‹°ìŠ¤íŠ¸ ì •ë³´</title>
</head>
<body>
    <nav>
        <h1>Music Log</h1>
        <ul>
            {% if g.user %}
                <li><a href="{{ url_for('profile') }}"><strong>{{ g.user['user_name'] }}</strong></a></li>
                <li><a href="{{ url_for('charts') }}">Charts</a></li>
                <li><a href="{{ url_for('logout') }}">Log Out</a>
            {% else %}
                <li><a href="{{ url_for('register') }}">Register</a>
                <li><a href="{{ url_for('login') }}">Log In</a>
            {% endif %}
        </ul>
    </nav>
    <hr>
    
    <h2>ğŸ¤ {{ artist['artist_name'] }}</h2>
    {% if artist.info %}
    <p><strong>ì •ë³´:</strong> {{ artist['info'] }}</p>
    {% endif %}

    <hr>

    <h3>ğŸµ ì´ ì•„í‹°ìŠ¤íŠ¸ì˜ ë…¸ë˜</h3>
    <ul>
        {% for song in songs %}
        <li><a href="{{ url_for('view_song', id=song['id']) }}">{{ song['song_name'] }}</a> (ì•¨ë²”: <a href="{{ url_for('view_album', album_id=song['album_id']) }}">{{ song['album_name'] }}</a>)</li>
        {% else %}
        <li>ì•„ì§ ë“±ë¡ëœ ë…¸ë˜ê°€ ì—†ìŠµë‹ˆë‹¤.</li>
        {% endfor %}
    </ul>

    <hr style="margin-top: 20px;">

    <h3>ğŸ“ ì´ ì•„í‹°ìŠ¤íŠ¸ì— ëŒ€í•œ ë…¸íŠ¸</h3>
    {% if g.user %}
    <a href="{{ url_for('add_note', entity_type='artist', entity_id=artist['id']) }}">[+ ë…¸íŠ¸ ì¶”ê°€]</a>
    {% endif %}
    <div id="notes-section" style="margin-top: 10px;">
        {% if notes_with_hashtags %}
            {% for item in notes_with_hashtags %}
                <div style="border: 1px solid #ccc; padding: 10px; margin-bottom: 10px;">
                    <p><strong>ì‘ì„±ì: {{ item['user_name'] }}</strong> ({{ item['created_at'].strftime('%Y-%m-%d') }})</p>
                    <p>{{ item['note']|replace('\n', '<br>')|safe }}</p>
                    {% if item.hashtags %}
                        <p style="color: #555;">
                            <strong>í•´ì‹œíƒœê·¸:</strong>
                            {% for tag in item['hashtags'].split(',') %}
                                <a href="{{ url_for('view_hashtag', hashtag_name=tag.strip()) }}" style="background-color: #eee; padding: 2px 5px; border-radius: 5px; font-size: 0.9em; text-decoration: none; color: inherit;">#{{ tag.strip() }}</a>
                            {% endfor %}
                        </p>
                    {% endif %}
                </div>
            {% endfor %}
        {% else %}
            <p>ì•„ì§ ì‘ì„±ëœ ë…¸íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
        {% endif %}
    </div>

    <a href="/">[ëª©ë¡ìœ¼ë¡œ]</a>
</body>
</html>
